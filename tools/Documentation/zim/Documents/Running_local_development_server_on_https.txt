Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2020-01-08T15:03:00+02:00

====== Running local development server on https ======
Created сряда 08 януари 2020

===== Generating SSL certificate =====

Firstly, there are two types of certificates: One being signed by a ‘Certificate Authority(CA)’ and the other one being ‘self-signed certificate’. A CA is a trusted source for an SSL certificate, and using a certificate from a CA allows your users to trust the identity of your website. In most cases, you would want to use a CA-signed certificate in a production environment, however for testing purpose, a self-signed certificate would be sufficient.

As we need to run local development server with https, a self-signed certificate would do just great in our case. To generate it, execute below commands:

Start OpenSSL by running below command in cmd,

{{{code: lang="sh" linenumbers="True"
openssl
}}}


**Once you are in OpenSSL, follow below steps:**

=== 1.  First we generate RSA key for our root CA and store it in file test_key.pem. If you want to password-protect this key, add option -des3. ===

{{{code: lang="sh" linenumbers="True"
genrsa -out test_key.pem
genrsa -out test_key.pem -des3
}}}


=== 2. This command generates a Certificate Signing Request, which you could instead use to generate a CA-signed certificate. ===

{{{code: lang="sh" linenumbers="True"
req -new -key test_key.pem -out test_csr.pem
}}}


=== 3. Next, we create our self-signed root CA certificate cert.pem; you’ll need to provide an identity for your root CA. The -x509 option is used for a self-signed certificate. You may specify the validity of your certificate by providing the number of days. ===

{{{code: lang="sh" linenumbers="True"
x509 -req -days 8888 -in test_csr.pem -signkey test_key.pem -out test_cert.pem
}}}


This will create key.pem, csr.pem and cert.pem file in the bin folder of your OpenSSL. You will only require cert.pem(The Certificate) & key.pem(The Private Key) for an SSL connection.

To see certificate info in UBUNTU you can use:
{{{code: lang="sh" linenumbers="True"
gcr-viewer test_csr.pem 
}}}



===== Running local development server =====

Go to your project directory. Install npm module http-server in your project directory:

{{{code: lang="sh" linenumbers="True"
npm install --save-dev http-server
}}}


Copy cert.pem & key.pem to root of your project directory.

Run below command:

{{{code: lang="sh" linenumbers="True"
	http-server --ssl -c-1 -p 8080 -a 127.0.0.1
}}}


Starting up http-server, serving ./ through https
Available on:

{{{code: lang="sh" linenumbers="True"
https://127.0.0.1:8080
}}}


Hit CTRL-C to stop the server

After this, hit the URL https://localhost:8080 and see the magic. You might need to approve a security warning from your browser before continuing.
